<html>
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

  <style type="text/css">ol.lst-kix_list_3-0{list-style-type:none}.lst-kix_list_3-0>li:before{content:"" counter(lst-ctn-kix_list_3-0,decimal) ". "}ul.lst-kix_list_5-7{list-style-type:none}ul.lst-kix_list_5-8{list-style-type:none}.lst-kix_list_3-1>li:before{content:" "}.lst-kix_list_3-2>li:before{content:" "}ul.lst-kix_list_5-5{list-style-type:none}ul.lst-kix_list_5-6{list-style-type:none}.lst-kix_list_4-0>li{counter-increment:lst-ctn-kix_list_4-0}.lst-kix_list_5-0>li{counter-increment:lst-ctn-kix_list_5-0}.lst-kix_list_6-0>li{counter-increment:lst-ctn-kix_list_6-0}ul.lst-kix_list_1-3{list-style-type:none}.lst-kix_list_3-5>li:before{content:" "}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}.lst-kix_list_3-4>li:before{content:" "}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_5-3{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}.lst-kix_list_3-3>li:before{content:" "}ul.lst-kix_list_5-4{list-style-type:none}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_5-1{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_5-2{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}.lst-kix_list_3-8>li:before{content:" "}.lst-kix_list_2-0>li{counter-increment:lst-ctn-kix_list_2-0}.lst-kix_list_3-6>li:before{content:" "}.lst-kix_list_3-7>li:before{content:" "}ol.lst-kix_list_5-0.start{counter-reset:lst-ctn-kix_list_5-0 0}.lst-kix_list_5-0>li:before{content:"" counter(lst-ctn-kix_list_5-0,decimal) ". "}ol.lst-kix_list_6-0{list-style-type:none}ol.lst-kix_list_2-0{list-style-type:none}.lst-kix_list_4-8>li:before{content:" "}.lst-kix_list_5-3>li:before{content:" "}.lst-kix_list_4-7>li:before{content:" "}.lst-kix_list_5-2>li:before{content:" "}.lst-kix_list_5-1>li:before{content:" "}ul.lst-kix_list_4-8{list-style-type:none}.lst-kix_list_5-7>li:before{content:" "}ul.lst-kix_list_4-6{list-style-type:none}.lst-kix_list_5-6>li:before{content:" "}.lst-kix_list_5-8>li:before{content:" "}ul.lst-kix_list_4-7{list-style-type:none}ul.lst-kix_list_4-1{list-style-type:none}.lst-kix_list_5-4>li:before{content:" "}ul.lst-kix_list_4-4{list-style-type:none}.lst-kix_list_5-5>li:before{content:" "}ul.lst-kix_list_4-5{list-style-type:none}ul.lst-kix_list_4-2{list-style-type:none}ul.lst-kix_list_4-3{list-style-type:none}ol.lst-kix_list_1-0.start{counter-reset:lst-ctn-kix_list_1-0 0}.lst-kix_list_6-1>li:before{content:" "}.lst-kix_list_6-3>li:before{content:" "}.lst-kix_list_6-0>li:before{content:"(" counter(lst-ctn-kix_list_6-0,lower-latin) ") "}.lst-kix_list_6-4>li:before{content:" "}.lst-kix_list_3-0>li{counter-increment:lst-ctn-kix_list_3-0}ol.lst-kix_list_4-0.start{counter-reset:lst-ctn-kix_list_4-0 0}.lst-kix_list_6-2>li:before{content:" "}.lst-kix_list_6-8>li:before{content:" "}.lst-kix_list_6-5>li:before{content:" "}.lst-kix_list_6-7>li:before{content:" "}.lst-kix_list_7-0>li:before{content:"\0025cf   "}.lst-kix_list_6-6>li:before{content:" "}ol.lst-kix_list_5-0{list-style-type:none}.lst-kix_list_2-6>li:before{content:" "}.lst-kix_list_2-7>li:before{content:" "}.lst-kix_list_7-4>li:before{content:"o  "}.lst-kix_list_7-6>li:before{content:"\0025cf   "}ol.lst-kix_list_1-0{list-style-type:none}.lst-kix_list_2-4>li:before{content:" "}.lst-kix_list_2-5>li:before{content:" "}.lst-kix_list_2-8>li:before{content:" "}.lst-kix_list_7-1>li:before{content:"o  "}.lst-kix_list_7-5>li:before{content:"\0025aa   "}.lst-kix_list_7-2>li:before{content:"\0025aa   "}.lst-kix_list_7-3>li:before{content:"\0025cf   "}ul.lst-kix_list_7-5{list-style-type:none}ul.lst-kix_list_7-6{list-style-type:none}ul.lst-kix_list_7-3{list-style-type:none}ul.lst-kix_list_3-7{list-style-type:none}ul.lst-kix_list_7-4{list-style-type:none}ul.lst-kix_list_3-8{list-style-type:none}ul.lst-kix_list_7-7{list-style-type:none}ul.lst-kix_list_7-8{list-style-type:none}ol.lst-kix_list_3-0.start{counter-reset:lst-ctn-kix_list_3-0 0}ul.lst-kix_list_3-1{list-style-type:none}ul.lst-kix_list_3-2{list-style-type:none}.lst-kix_list_7-8>li:before{content:"\0025aa   "}ul.lst-kix_list_7-1{list-style-type:none}ul.lst-kix_list_3-5{list-style-type:none}ul.lst-kix_list_7-2{list-style-type:none}ul.lst-kix_list_3-6{list-style-type:none}ul.lst-kix_list_3-3{list-style-type:none}ul.lst-kix_list_7-0{list-style-type:none}.lst-kix_list_7-7>li:before{content:"o  "}ul.lst-kix_list_3-4{list-style-type:none}li.li-bullet-1:before{margin-left:-36pt;white-space:nowrap;display:inline-block;min-width:36pt}.lst-kix_list_4-0>li:before{content:"" counter(lst-ctn-kix_list_4-0,decimal) ". "}.lst-kix_list_4-1>li:before{content:" "}.lst-kix_list_4-4>li:before{content:" "}.lst-kix_list_4-3>li:before{content:" "}.lst-kix_list_4-5>li:before{content:" "}.lst-kix_list_4-2>li:before{content:" "}.lst-kix_list_4-6>li:before{content:" "}ol.lst-kix_list_4-0{list-style-type:none}ul.lst-kix_list_6-6{list-style-type:none}ul.lst-kix_list_6-7{list-style-type:none}ul.lst-kix_list_6-4{list-style-type:none}ul.lst-kix_list_2-8{list-style-type:none}ul.lst-kix_list_6-5{list-style-type:none}ul.lst-kix_list_6-8{list-style-type:none}ul.lst-kix_list_2-2{list-style-type:none}.lst-kix_list_1-0>li:before{content:"" counter(lst-ctn-kix_list_1-0,decimal) ". "}ul.lst-kix_list_2-3{list-style-type:none}ul.lst-kix_list_2-1{list-style-type:none}ul.lst-kix_list_6-2{list-style-type:none}ul.lst-kix_list_2-6{list-style-type:none}ul.lst-kix_list_6-3{list-style-type:none}.lst-kix_list_1-1>li:before{content:" "}.lst-kix_list_1-2>li:before{content:" "}ol.lst-kix_list_2-0.start{counter-reset:lst-ctn-kix_list_2-0 0}ul.lst-kix_list_2-7{list-style-type:none}ul.lst-kix_list_2-4{list-style-type:none}ul.lst-kix_list_6-1{list-style-type:none}ul.lst-kix_list_2-5{list-style-type:none}.lst-kix_list_1-3>li:before{content:" "}.lst-kix_list_1-4>li:before{content:" "}.lst-kix_list_1-0>li{counter-increment:lst-ctn-kix_list_1-0}.lst-kix_list_1-7>li:before{content:" "}.lst-kix_list_1-5>li:before{content:" "}.lst-kix_list_1-6>li:before{content:" "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_list_2-0>li:before{content:"" counter(lst-ctn-kix_list_2-0,decimal) ". "}.lst-kix_list_2-1>li:before{content:" "}ol.lst-kix_list_6-0.start{counter-reset:lst-ctn-kix_list_6-0 0}.lst-kix_list_1-8>li:before{content:" "}.lst-kix_list_2-2>li:before{content:" "}.lst-kix_list_2-3>li:before{content:" "}ol{margin:0;padding:0}table td,table th{padding:0}.c14{margin-left:180pt;padding-top:0pt;text-indent:36pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:right}.c5{margin-left:54pt;padding-top:0pt;padding-left:18pt;padding-bottom:0pt;line-height:2.0;orphans:2;widows:2;text-align:left}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;height:10pt}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Times New Roman";font-style:normal}.c17{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Times New Roman";font-style:normal}.c15{padding-top:0pt;padding-bottom:0pt;line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:right}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:center;height:10pt}.c6{padding-top:0pt;padding-bottom:0pt;line-height:2.0;orphans:2;widows:2;text-align:left;height:10pt}.c20{padding-top:0pt;padding-bottom:0pt;line-height:2.0;orphans:2;widows:2;text-align:center}.c3{padding-top:0pt;padding-bottom:0pt;line-height:2.0;orphans:2;widows:2;text-align:justify}.c26{padding-top:0pt;padding-bottom:0pt;line-height:2.0;orphans:2;widows:2;text-align:left}.c23{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:right}.c11{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:justify}.c9{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-family:"Times New Roman";font-style:normal}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:center}.c25{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c13{margin-left:252pt;text-indent:36pt}.c24{font-weight:400;font-family:"Times New Roman"}.c19{padding:0;margin:0}.c22{margin-left:36pt;padding-left:0pt}.c18{margin-left:216pt;page-break-after:avoid}.c16{font-weight:700}.c10{vertical-align:super}.c2{font-size:12pt}.c8{height:10pt}.c21{font-size:9pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Times New Roman";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.0;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:10pt;font-family:"Times New Roman"}p{margin:0;color:#000000;font-size:10pt;font-family:"Times New Roman"}h1{padding-top:0pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:0pt;font-family:"Times New Roman";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:center}h2{padding-top:0pt;color:#000000;font-size:12pt;padding-bottom:0pt;font-family:"Georgia";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h3{padding-top:14pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Times New Roman";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:2pt;font-family:"Times New Roman";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:2pt;font-family:"Times New Roman";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#000000;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Times New Roman";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}</style></head><body class="c25 doc-content" id="pdf-content"><h1 class="c4"><span class="c9 c2">DECLARATION &ndash; ANNUAL INFORMATION SUBMISSION FORM &nbsp;</span></h1><ul class="c19 lst-kix_list_7-0 start"><li class="c12 c22 li-bullet-0"><span class="c9 c21">(RETAIL LICENCE NOT HELD DIRECTLY OR INDIRECTLY BY LICENCED WHOLESALER)</span></li><li class="c12 c22 li-bullet-0"><span class="c9 c21" id="ownershipstatus"></span></li></ul><p class="c1"><span class="c9 c2"></span></p><p class="c1"><span class="c2 c9"></span></p><p class="c26"><span class="c0">I, the undersigned,</span></p><p class="c6"><span class="c0"></span></p><p class="c20"><span class="c9 c2" id="deponentfname">SHAZIM SULIMAN</span></p><p class="c20"><span class="c0" id="deponentid"></span></p><p class="c3 c8"><span class="c0"></span></p><p class="c3"><span class="c2">in my capacity as a Member of </span><span class="c16 c2" id="company"> </span><span class="c0">declare under oath as follows:</span></p><p class="c6"><span class="c0"></span></p><p class="c6"><span class="c0"></span></p><p class="c12"><span class="c0">1.</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">All information provided herein is within my personal knowledge, unless stated otherwise, and that: -</span></p><p class="c3 c8"><span class="c0"></span></p><ol class="c19 lst-kix_list_6-0 start" start="1"><li class="c5 li-bullet-1"><span class="c0">I am duly authorised to depose to this declaration;</span></li><li class="c5 li-bullet-1"><span class="c2">I am the designated person responsible for the retail licence annual information submission form of</span><span class="c16 c2" id="company1"></span></li><li class="c5 li-bullet-1"><span class="c0">All information provided herein is to the best of my knowledge both true and correct.</span></li></ol><p class="c7"><span class="c0"></span></p><p class="c7"><span class="c0"></span></p><p class="c7"><span class="c0"></span></p><p class="c12"><span class="c0">2.</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">I declare that the ownership of the licensed activity </span><span class="c9 c2" id="ownershipstatusconf"></span><span class="c0">&nbsp;in the past calendar year. &nbsp;</span></p><p class="c3 c8"><span class="c0"></span></p><p class="c12"><span class="c0">3.</span></p><p class="c11 c8"><span class="c0"></span></p><p class="c11 c8"><span class="c0"></span></p><p class="c3"><span class="c0">I further declare that the retail licence is not held directly or indirectly by a licenced wholesaler. &nbsp;</span></p><p class="c3 c8"><span class="c0"></span></p><p class="c7"><span class="c0"></span></p><p class="c7"><span class="c0"></span></p><p class="c7"><span class="c17"></span></p><h2 class="c11 c18"><span class="c0">&nbsp; &nbsp; __________________________________ &nbsp; &nbsp; &nbsp; &nbsp;</span></h2><h2 class="c13 c15"><span class="c24">&nbsp; </span><span class="c9 c2">DEPONENT</span></h2><p class="c11 c8 c13"><span class="c0"></span></p><p class="c7 c13"><span class="c0"></span></p><p class="c7 c13"><span class="c0"></span></p><p class="c7 c13"><span class="c0"></span></p><p class="c11"><span class="c2">I certify that the Deponent has acknowledge that he/she knows and understands the contents of this Affidavit and that it is to his/ her best knowledge, true and correct, which Affidavit was signed and sworn to before me at </span><span class="c16 c2">___________________________</span><span class="c2">&nbsp;on this </span><span class="c16 c2">_________</span><span class="c2">&nbsp;day of </span><span class="c2 c16">_________________ </span><span class="c2" id="yearofsigning"></span><span class="c2 c10">th</span><span class="c0">&nbsp;August 1977, as amended, have been duly complied with.</span></p><p class="c11 c8"><span class="c0"></span></p><p class="c8 c11"><span class="c0"></span></p><p class="c23"><span class="c0"><br>__________________________________</span></p><p class="c14"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c9 c2">COMMISSIONER OF OATHS</span></p><p class="c7 c13"><span class="c0"></span></p><p class="c11 c13 c8"><span class="c0"></span></p>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";

  import { getDatabase, set, ref, push, onValue } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";


  import { getStorage, ref as Sref, uploadBytes, uploadBytesResumable, getDownloadURL } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-storage.js";


  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyC_8MUNt0jls-rcAPICWpkAOUAPnuYmhm0",
    authDomain: "nexapetro-e1ed5.firebaseapp.com",
    databaseURL: "https://nexapetro-e1ed5-default-rtdb.firebaseio.com",
    projectId: "nexapetro-e1ed5",
    storageBucket: "nexapetro-e1ed5.firebasestorage.app",
    messagingSenderId: "683626655840",
    appId: "1:683626655840:web:71cf9c1eeaa1718fb15305",
    measurementId: "G-P29HTL8721"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const db = getDatabase(app);
  const storage = getStorage(app);
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);
  const ownership = urlParams.get('ownership');
  const datatoken = urlParams.get('datatoken');
  const refdb = ref(db, `AnnualReturns/${datatoken}`);
  

console.log("hey im here " + refdb);

    onValue(refdb, (snapshot) => {
        // The snapshot contains the data at the specified path
        const data = snapshot.val();

        console.log(data);

        if (data) {

       if (data.training === "No Training") {

       	

       	} else if (data.training === "Training Conducted"){

       		

       		}

       		const companynamear = data.companyname.toUpperCase();
       		const stationnamear = data.stationname.toUpperCase();

       document.getElementById("deponentid").innerHTML = `(ID. No. ${data.idnum})`;

       document.getElementById("deponentfname").innerHTML = data.name.toUpperCase();

       document.getElementById("company").innerHTML = `${companynamear}, Reg. Nr. ${data.registration_number} t/a ${stationnamear},`;

       document.getElementById("company1").innerHTML = `&nbsp; ${companynamear}, Reg. Nr. ${data.registration_number} t/a ${stationnamear},`;


       if (data.ownership === "no change in ownership") {

       	document.getElementById("ownershipstatus").innerHTML = "(NO CHANGE IN OWNERSHIP)";

       	document.getElementById("ownershipstatusconf").innerHTML = `has not changed`;

       	} else if (data.ownership === "change in ownership"){

       		document.getElementById("ownershipstatusconf").innerHTML = `has changed`;

       		document.getElementById("ownershipstatus").innerHTML = "(CHANGE IN OWNERSHIP)";

       		}

       
const currentYear = new Date().getFullYear();
document.getElementById("yearofsigning").innerHTML = `${currentYear}, and that the provisions of the Regulations contained in Government Gazette Number R1648 of 19`;

async function loadData() {

    const element = document.getElementById('pdf-content');
    
    const opt = {
      margin:       10,                   // mm
      filename:     `Declaration - ${stationnamear} - ${currentYear}.pdf`,
      image:        { type: 'jpeg', quality: 0.98 },
      html2canvas:  { scale: 2, useCORS: true, allowTaint: false },
      jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
    };

    // Start conversion
    await html2pdf().set(opt).from(element).save();

    const blobPDF = await html2pdf().set(opt).from(element).outputPdf("blob");

    const filenamedeclaration = `Declaration - ${stationnamear} - ${currentYear}.pdf`;

    const storageRef = Sref(storage, `AnnualReturns/${datatoken}/${filenamedeclaration}`);

    const uploadTask = uploadBytesResumable(storageRef, blobPDF);


  uploadTask.on(
    "state_changed",
    (snapshot) => {
      const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
      console.log("Upload is " + Math.round(progress) + "% done");
    },
    (error) => {
      console.error("Upload failed:", error);
    },
    () => {
     window.location.href = `./coverletter.html?datatoken=${datatoken}`; 
    }
  );


            

}

loadData();
            const numberOfItems = Object.keys(data).length;
            console.log("Number of items:", numberOfItems);
        } else {
            console.log("No items found at this location.");
        }
    });
</script>

</body></html>